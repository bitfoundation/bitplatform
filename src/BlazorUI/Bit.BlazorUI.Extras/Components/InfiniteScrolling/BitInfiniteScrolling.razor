@namespace Bit.BlazorUI
@inherits BitComponentBase
@typeparam TItem

<div @ref="RootElement" @attributes="HtmlAttributes"
     id="@_Id"
     style="@StyleBuilder.Value"
     class="@ClassBuilder.Value"
     dir="@Dir?.ToString().ToLower()">

    @foreach (var item in _currentItems)
    {
        @if (ItemTemplate is not null)
        {
            @ItemTemplate(item)
        }
    }

    @if (_isLoading)
    {
        @LoadingTemplate
    }

    <div @ref="_lastElementRef" style="@(_isLoading ? "height:0;width:0" : "height:1.5rem;width:1.5rem")"></div>
</div>