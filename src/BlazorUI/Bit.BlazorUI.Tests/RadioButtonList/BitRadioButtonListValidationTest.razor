<EditForm Model="@TestModel" OnValidSubmit="@HandleValidSubmit" OnInvalidSubmit="@HandleInvalidSubmit">
    <DataAnnotationsValidator />
    <CascadingValue Value="Visual">
        <BitRadioButtonList @bind-Value="TestModel.Value"
                            TextField="@TextField"
                            ValueField="@ValueField"
                            Items="Items"
                            Name="@Name"
                            Label="@Label"
                            AriaLabel="@AriaLabel"
                            AriaLabelledBy="@AriaLabelledBy"
                            Style="@Style"
                            Class="@Class"
                            IconNameField="@IconNameField"
                            ImageSrcField="@ImageSrcField"
                            ImageAltField="@ImageAltField"
                            SelectedImageSrcField="@SelectedImageSrcField"
                            ImageSize="ImageSize"
                            IsRequired="IsRequired"
                            Visibility="Visibility"
                            LabelFragment="LabelFragment"
                            IsEnabled="IsEnabled">
        </BitRadioButtonList>
    </CascadingValue>
</EditForm>

@code {
    [Parameter] public Visual Visual { get; set; }
    [Parameter] public IEnumerable<Gender> Items { get; set; }
    [Parameter] public BitComponentVisibility Visibility { get; set; }
    [Parameter] public BitRadioButtonListTestModel TestModel { get; set; }
    [Parameter] public bool IsEnabled { get; set; }
    [Parameter] public string TextField { get; set; }
    [Parameter] public string ValueField { get; set; }
    [Parameter] public string Name { get; set; }
    [Parameter] public string Label { get; set; }
    [Parameter] public string Style { get; set; }
    [Parameter] public string Class { get; set; }
    [Parameter] public string AriaLabelledBy { get; set; }
    [Parameter] public string AriaLabel { get; set; }
    [Parameter] public string IconNameField { get; set; } = "IconName";
    [Parameter] public string ImageSrcField { get; set; } = "ImageSrc";
    [Parameter] public string ImageAltField { get; set; } = "ImageAlt";
    [Parameter] public string SelectedImageSrcField { get; set; } = "SelectedImageSrc";
    [Parameter] public System.Drawing.Size ImageSize { get; set; }
    [Parameter] public RenderFragment? LabelFragment { get; set; }
    [Parameter] public bool IsRequired { get; set; }

    public int ValidCount { get; set; }
    public int InvalidCount { get; set; }

    private void HandleValidSubmit()
    {
        ValidCount++;
    }

    private void HandleInvalidSubmit()
    {
        InvalidCount++;
    }
}