@page "/components/searchbox"
@page "/components/search-box"

<PageOutlet Url="components/searchbox"
            Title="SearchBox"
            Description="searchbox component of the bit BlazorUI components" />

<ComponentDemo ComponentName="SearchBox"
               ComponentDescription="A search box (SearchBox) provides an input field for searching content within a site or app to find specific items."
               ComponentParameters="componentParameters">
    <ComponentExampleBox Title="Basic" HtmlCode="@example1HTMLCode" Id="example1">
        <ExamplePreview>
            <div class="example-box">
                <div>
                    <BitLabel>Basic</BitLabel>
                    <BitSearchBox Placeholder="Search" />
                </div>
                <br />
                <div>
                    <BitLabel>Disabled</BitLabel>
                    <BitSearchBox Placeholder="Search" IsEnabled="false" />
                </div>
            </div>
        </ExamplePreview>
    </ComponentExampleBox>

    <ComponentExampleBox Title="IsUnderlined" HtmlCode="@example2HTMLCode" Id="example2">
        <ExamplePreview>
            <div class="example-box">
                <div>
                    <BitLabel>Basic Underlined SearchBox</BitLabel>
                    <BitSearchBox Placeholder="Search" IsUnderlined="true" />
                </div>
                <br />
                <div>
                    <BitLabel>Disabled Underlined SearchBox</BitLabel>
                    <BitSearchBox Placeholder="Search" IsUnderlined="true" IsEnabled="false" />
                </div>
            </div>
        </ExamplePreview>
    </ComponentExampleBox>

    <ComponentExampleBox Title="Icon" HtmlCode="@example3HTMLCode" Id="example3">
        <ExamplePreview>
            <div class="example-box">
                <div>
                    <BitLabel>SearchBox with fixed icon</BitLabel>
                    <BitSearchBox Placeholder="Search" FixedIcon="true" />
                </div>
                <br />
                <div>
                    <BitLabel>SearchBox without icon animation</BitLabel>
                    <BitSearchBox Placeholder="Search" DisableAnimation="true" />
                </div>
                <br />
                <div>
                    <BitLabel>SearchBox with custom icon</BitLabel>
                    <BitSearchBox Placeholder="Search" IconName="@BitIconName.Filter" />
                </div>
            </div>
        </ExamplePreview>
    </ComponentExampleBox>

    <ComponentExampleBox Title="Controlled" HtmlCode="@example4HTMLCode" CsharpCode="@example4CSharpCode" Id="example4">
        <ExamplePreview>
            <div class="example-box">
                <div>
                    <BitLabel>Two-way Bind</BitLabel>
                    <BitSearchBox Placeholder="Search" @bind-Value="TwoWaySearchValue" />
                    <BitTextField Placeholder="Search Value" Style="margin-top: 5px;" @bind-Value="TwoWaySearchValue" />
                </div>
                <br />
                <div>
                    <BitLabel>OnChange</BitLabel>
                    <BitSearchBox Placeholder="Search" OnChange="(s) => OnChangeSearchValue = s" OnClear="() => OnChangeSearchValue = string.Empty" />
                    <BitLabel>Search Value: @OnChangeSearchValue</BitLabel>
                </div>
                <br />
                <div>
                    <BitLabel>OnSearch (Search by Enter)</BitLabel>
                    <BitSearchBox Placeholder="Search" OnSearch="(s) => OnSearchValue = s" OnClear="() => OnSearchValue = string.Empty" />
                    <BitLabel>Search Value: @OnSearchValue</BitLabel>
                </div>
            </div>
        </ExamplePreview>
    </ComponentExampleBox>

    <ComponentExampleBox Title="Validation" HtmlCode="@example5HTMLCode" CsharpCode="@example5CSharpCode" Id="example5">
        <ExamplePreview>
            <div class="example-box">
                <EditForm Model="ValidationSearchBoxModel">
                    <DataAnnotationsValidator />
                    <BitSearchBox Placeholder="Search" DefaultValue="This is default value" @bind-Value="ValidationSearchBoxModel.Text" />
                    <ValidationMessage For="() => ValidationSearchBoxModel.Text" />
                </EditForm>
            </div>
        </ExamplePreview>
    </ComponentExampleBox>

</ComponentDemo>

@code {
    private string TwoWaySearchValue;
    private string OnChangeSearchValue;
    private string OnSearchValue;

    private readonly ValidationSearchBoxModel ValidationSearchBoxModel = new();
}