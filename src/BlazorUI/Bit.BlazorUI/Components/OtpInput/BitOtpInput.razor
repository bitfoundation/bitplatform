@namespace Bit.BlazorUI
@inherits BitInputBase<string?>

<div @ref="RootElement" @attributes="HtmlAttributes"
     style="@StyleBuilder.Value"
     class="@ClassBuilder.Value"
     aria-label="@AriaLabel">

    @for (var i = 0; i < Length; i++)
    {
        int index = i;

        <input @ref="_inputRefs[index]"
               @onpaste="HandleOnPaste"
               @onfocusin="HandleOnFocusIn"
               @onfocusout="HandleOnFocusOut"
               @onfocus="(e) => HandleOnFocus(e, index)"
               @oninput="(e) => HandleOnInput(e, index)"
               @onkeydown="(e) => HandleOnKeyDown(e, index)"
               class="bit-otp-inp"
               type="@_inputType"
               inputmode="@_inputMode"
               value="@_inputValue[index]"
               disabled="@(IsEnabled is false)"
               autocomplete="@BitAutoCompleteValue.OneTimeCode" />
    }
</div>
