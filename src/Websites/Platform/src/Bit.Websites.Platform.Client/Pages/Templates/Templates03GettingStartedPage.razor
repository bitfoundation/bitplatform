@page "/templates/getting-started"
@page "/templates/development-prerequisites"
@inherits AppComponentBase

<PageOutlet Url="templates/getting-started"
            Title="Getting started - Templates"
            Description="Getting started with the project templates on the bit platform" />

<div class="page-container">
    <BitText Typography="BitTypography.H3" Gutter>Getting started</BitText>
    <br />

    <section class="section-card">
        <div class="section-card-txt">
            <BitText Typography="BitTypography.H5" Gutter>Setting Up Your Development Environment</BitText>
            <br />
            <BitPivot>
                <BitPivotItem HeaderText="One-step setup">
                    <br />
                    <BitText Typography="BitTypography.H6" Gutter>
                        For Windows: Visual Studio & Visual Studio Code
                    </BitText>
                    <br />
                    <BitText Typography="BitTypography.Body1" Gutter>
                        To streamline your development setup, we’ve simplified the installation process into a straightforward sequence of commands.
                        These components are installed via the <a href="https://aka.ms/getwinget" target="_blank">Windows Package Manager (WinGet)</a>, which comes pre-installed on Windows 11.
                        <br /><br />
                        The default commands listed below are required for Web & API development, however,
                        you can choose other options too, then click the Copy button and paste them into
                        the Windows PowerShell as an Administrator to run.
                    </BitText>
                    <br />
                    <BitStack Gap="1rem">
                        <BitCheckbox Label="Cross-platform development" @bind-Value="enableCrossPlatform" />
                        <BitCheckbox Label="Visual Studio" @bind-Value="installVs" />
                        <BitCheckbox Label="Visual Studio Code" @bind-Value="installVsCode" />
                        <BitButton IconName="@BitIconName.Copy" OnClick="CopyCommandsToClipboard">@copyButtonText</BitButton>
                    </BitStack>
                    <br />
                    List of commands:
                    <CodeBox MaxHeight="300px" HideCopyButton>@GetDisplayableSelectedCommands()</CodeBox>
                    @if (installVs)
                    {
                        <br />
                        <div class="section-card-txt">
                            <b>Note</b>: you can install the following extensions for Visual Studio to have a better development experience:
                            <ol>
                                <li>
                                    <a href="https://marketplace.visualstudio.com/items?itemName=Failwyn.WebCompiler64" target="_blank">Web Compiler 2022+ extension</a>
                                </li>
                                <li>
                                    <a href="https://marketplace.visualstudio.com/items?itemName=TomEnglert.ResXManager" target="_blank">ResXManager</a>
                                </li>
                            </ol>
                        </div>
                    }
                </BitPivotItem>
                <BitPivotItem HeaderText="Step-by-step setup">
                    <br />
                    <BitStack Horizontal VerticalAlign="BitAlignment.End" Gap="1rem">
                        <BitText Typography="BitTypography.H6" Gutter>
                            Step-by-step instructions for
                        </BitText>
                        <BitPivot HeadersOnly="true" OnItemClick="@(item => devOS = item?.Key)">
                            <BitPivotItem HeaderText="Windows" Key="Windows"></BitPivotItem>
                            <BitPivotItem HeaderText="macOS" Key="macOS"></BitPivotItem>
                            <BitPivotItem HeaderText="Linux" Key="Linux"></BitPivotItem>
                        </BitPivot>
                    </BitStack>
                    <br /><br />
                    <BitToggle IsInlineLabel Label="Show cross-platform development steps" @bind-Value="showCrossPlatform" />
                    <br />
                    <ol>
                        <li style="margin-bottom:8px">
                            Install latest <a href="https://dotnet.microsoft.com/en-us/download/dotnet/8.0" target="_blank">.NET 8 SDK</a>
                            @if (devOS is "Linux")
                            {
                                <BitAccordion Title=".NET 8 Sdk on Linux instructions">
                                    <div>To install .NET 8 SDK on Linux(Ubuntu) run the following commands:</div>
                                    <CodeBox>wget https://download.visualstudio.microsoft.com/download/pr/db901b0a-3144-4d07-b8ab-6e7a43e7a791/4d9d1b39b879ad969c6c0ceb6d052381/dotnet-sdk-8.0.401-linux-x64.tar.gz -O $HOME/dotnet.tar.gz
mkdir -p $HOME/.dotnet
tar zxf $HOME/dotnet.tar.gz -C "$HOME/.dotnet"
echo 'PATH=$HOME/.dotnet:$HOME/.dotnet/tools:$PATH' >> ~/.bashrc
export PATH=$HOME/.dotnet:$HOME/.dotnet/tools:$PATH
dotnet dev-certs https --trust
rm $HOME/dotnet.tar.gz</CodeBox>
                                </BitAccordion>
                            }
                        </li>
                        <br />
                        <li>Install <a href="https://nodejs.org/dist/v20.16.0/node-v20.16.0-x64.msi" title="Node.js" rel="nofollow">Node.js</a></li>
                        <br />
                        <li>
                            <div style="margin-bottom:8px">Install .NET workloads</div>
                            @if (showCrossPlatform)
                            {
                                @if (devOS is "Windows")
                                {
                                    <CodeBox>dotnet workload install maui<br />dotnet workload install wasm-tools</CodeBox>
                                }
                                else if (devOS is "Linux")
                                {
                                    <CodeBox>dotnet workload update<br />dotnet workload install maui-android<br />dotnet workload install wasm-tools</CodeBox>
                                }
                                else
                                {
                                    <CodeBox>sudo dotnet workload install maui<br />sudo dotnet workload install wasm-tools</CodeBox>
                                }
                            }
                            else
                            {
                                @if (devOS is "Windows")
                                {
                                    <CodeBox>dotnet workload install wasm-tools</CodeBox>
                                }
                                else if (devOS is "Linux")
                                {
                                    <CodeBox>dotnet workload update<br />dotnet workload install wasm-tools</CodeBox>
                                }
                                else
                                {
                                    <CodeBox>sudo dotnet workload install wasm-tools</CodeBox>
                                }
                            }
                        </li>
                        <li>
                            <div style="margin-bottom:8px">Install <a href="https://www.nuget.org/packages/Bit.Boilerplate/8.11.0-pre-06" target="_blank">Bit Boilerplate</a> project template</div>
                            <CodeBox>dotnet new install Bit.Boilerplate::8.11.0-pre-06</CodeBox>
                        </li>
                        @if (showCrossPlatform && devOS is "Windows")
                        {
                            <li>
                                Enable long paths files in Windows
                                <CodeBox>reg add "HKLM\SYSTEM\CurrentControlSet\Control\FileSystem" /v LongPathsEnabled /t REG_DWORD /d 1 /f <BitButton Class="link-btn" Size="BitSize.Small" IconName="ArrowUpRight" Href="https://learn.microsoft.com/en-us/windows/win32/fileio/maximum-file-path-limitation" Target="_blank" Variant="BitVariant.Text" /></CodeBox>
                            </li>
                            <li>
                                Enable Windows developer mode
                                <CodeBox>reg add "HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\AppModelUnlock" /v AllowDevelopmentWithoutDevLicense /t REG_DWORD /d 1 /f <BitButton Class="link-btn" Size="BitSize.Small" IconName="ArrowUpRight" Href="https://learn.microsoft.com/en-us/windows/apps/get-started/developer-mode-features-and-debugging" Target="_blank" Variant="BitVariant.Text" /></CodeBox>
                            </li>
                        }
                    </ol>
                    <br />
                    <BitText Typography="BitTypography.H5" Gutter>IDE specific requirements</BitText>
                    <br />
                    @if (devOS is "Windows")
                    {
                        <BitText Typography="BitTypography.H6" Gutter>Visual Studio</BitText>
                        <BitStack Horizontal VerticalAlign="BitAlignment.Center" Gap="2rem" Style="overflow-x:auto">
                            <div class="section-card-txt">
                                <ul>
                                    <li>
                                        <a href="https://visualstudio.microsoft.com/downloads/" target="_blank">Microsoft Visual Studio</a> 2022 - Version 17.11 or higher
                                        <ul dir="auto">
                                            <li>
                                                Workloads:
                                                <ul dir="auto">
                                                    <li>ASP.NET and web development</li>
                                                    @if (showCrossPlatform)
                                                    {
                                                        <li>.NET Multi-Platform App UI development + Android Sdk setup</li>
                                                    }
                                                </ul>
                                            </li>
                                            <li>
                                                Extensions:
                                                <ul dir="auto">
                                                    <li><a href="https://marketplace.visualstudio.com/items?itemName=Failwyn.WebCompiler64" title="Web Compiler 2022+" rel="nofollow">Web Compiler 2022+</a> extension</li>
                                                    <li><a href="https://marketplace.visualstudio.com/items?itemName=TomEnglert.ResXManager" title="ResXManager" rel="nofollow">ResXManager</a> extension</li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                            @if (showCrossPlatform)
                            {
                                <img class="image" alt="VS Setup" src="/images/templates/vs-setup.webp" />
                            }
                        </BitStack>
                    }
                    <BitText Typography="BitTypography.H6" Gutter>VS Code</BitText>
                    <div class="section-card-txt">
                        <ul>
                            <li>
                                <a href="https://code.visualstudio.com/#alt-downloads" title="VS Code" rel="nofollow">Visual Studio Code</a> with following extensions:
                                <ul dir="auto">
                                    <li><a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csdevkit" title="C# Dev Kit" rel="nofollow">C# Dev Kit</a></li>
                                    <li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers" title="Dev Containers" rel="nofollow">Dev Containers</a></li>
                                    <li><a href="https://marketplace.visualstudio.com/items?itemName=glenn2223.live-sass" title="Live Sass Compiler" rel="nofollow">Live Sass Compiler</a></li>
                                    <li><a href="https://marketplace.visualstudio.com/items?itemName=kevin-chatham.aspnetcorerazor-html-css-class-completion" title="Razor/Blazor CSS IntelliSense" rel="nofollow">Razor/Blazor CSS IntelliSense</a></li>
                                    <li><a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.blazorwasm-companion" title="BlazorWasmDebugging" rel="nofollow">BlazorWasmDebugging</a></li>
                                    @if (showCrossPlatform)
                                    {
                                        <li><a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.dotnet-maui" title=".NET MAUI" rel="nofollow">.NET MAUI</a></li>
                                    }
                                    <li><a href="https://marketplace.visualstudio.com/items?itemName=DominicVonk.vscode-resx-editor" title="RESX Editor" rel="nofollow">RESX Editor</a></li>
                                </ul>
                            </li>
                        </ul>
                        <BitAccordion Title="Install extensions commands">
                            @if (showCrossPlatform)
                            {
                                <CodeBox>code --install-extension ms-dotnettools.csdevkit
code --install-extension ms-vscode-remote.remote-containers
code --install-extension ms-dotnettools.blazorwasm-companion
code --install-extension glenn2223.live-sass
code --install-extension kevin-chatham.aspnetcorerazor-html-css-class-completion
code --install-extension ms-dotnettools.dotnet-maui
code --install-extension DominicVonk.vscode-resx-editor</CodeBox>
                            }
                            else
                            {
                                <CodeBox>code --install-extension ms-dotnettools.csdevkit
code --install-extension ms-vscode-remote.remote-containers
code --install-extension ms-dotnettools.blazorwasm-companion
code --install-extension glenn2223.live-sass
code --install-extension kevin-chatham.aspnetcorerazor-html-css-class-completion
code --install-extension DominicVonk.vscode-resx-editor</CodeBox>
                            }
                        </BitAccordion>
                    </div>
                </BitPivotItem>
            </BitPivot>
        </div>
    </section>
</div>

<NavigationButtons Prev="Samples" PrevUrl="/templates/samples" Next="Project structure" NextUrl="/templates/project-structure" />