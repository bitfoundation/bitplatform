@page "/"
@namespace Bit.Bswup.Demo.Web.Pages
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@inject IHttpContextAccessor ContextAccessor
@using RenderMode = Microsoft.AspNetCore.Mvc.Rendering.RenderMode

@{
    Layout = "_Layout";

    var request = ContextAccessor?.HttpContext?.Request;
    var noPrerender = request.Query["no-prerender"].Count > 0;
    var renderMode = noPrerender ? RenderMode.WebAssembly : RenderMode.WebAssemblyPrerendered;
}

<component type="typeof(Bit.Bswup.Demo.Client.App)" render-mode="@renderMode" />