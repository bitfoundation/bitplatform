<CascadingValue Value="Visual">
    <BitChoiceGroup Name="@ChoiceGroupName"
                    IsEnabled="@ChoiceGroupIsEnabled"
                    OnValueChange="HandleValueChange">
        <BitChoiceOption Value="@Value"
                         IsEnabled="@ChoiceOptionIsEnabled"
                         Text="@Text"
                         Name="@ChoiceOptionName"
                         IsChecked="IsChecked"
                         OnClick="HandleClick"
                         OnChange="HandleChange">
        </BitChoiceOption>
        <BitChoiceOption Value="option2"></BitChoiceOption>
        <BitChoiceOption Value="@Value"
                         Text="@Text"
                         ImageSrc="@ImageSrc"
                         ImageAlt="@ImageAlt"
                         SelectedImageSrc="@SelectedImageSrc"
                         ImageSize="ImageSize">
        </BitChoiceOption>
        <BitChoiceOption Value="@Value"
                         Text="@Text"
                         IconName="@IconName">
        </BitChoiceOption>
    </BitChoiceGroup>
</CascadingValue>
@code {
    [Parameter] public Visual Visual { get; set; }
    [Parameter] public bool ChoiceGroupIsEnabled { get; set; }
    [Parameter] public string ChoiceGroupName { get; set; }

    [Parameter] public bool ChoiceOptionIsEnabled { get; set; }
    [Parameter] public string Value { get; set; }
    [Parameter] public string? Text { get; set; }
    [Parameter] public string? ChoiceOptionName { get; set; }
    [Parameter] public bool IsChecked { get; set; }

    [Parameter] public string? ImageSrc { get; set; }
    [Parameter] public string? ImageAlt { get; set; }
    [Parameter] public string? SelectedImageSrc { get; set; }
    [Parameter] public System.Drawing.Size? ImageSize { get; set; }
    [Parameter] public string? IconName { get; set; }

    public int ChoiceOptionClickedValue { get; set; }
    public int ChoiceOptionChangedValue { get; set; }
    public string ChoiceGroupChangedValue { get; set; } = "";

    public void HandleClick(MouseEventArgs e)
    {
        ChoiceOptionClickedValue++;
    }
    public void HandleValueChange(string value)
    {
        ChoiceGroupChangedValue = value;
    }
    public void HandleChange(ChangeEventArgs e)
    {
        ChoiceOptionChangedValue++;
        //Count2++;
        Value = e.Value.ToString();
    }
}
