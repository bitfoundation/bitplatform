<EditForm Model="@TestModel" OnValidSubmit="@HandleValidSubmit" OnInvalidSubmit="@HandleInvalidFSubmit">
    <DataAnnotationsValidator />

    <CascadingValue Value="Visual">
        <BitToggle IsEnabled="IsEnabled"
                   @bind-Value="@TestModel.Value"
                   IsInlineLabel="IsInlineLabel"
                   OnText="@OnText"
                   OffText="@OffText"
                   AriaLabel="@AriaLabel"
                   Role="@Role"
                   Label="@Label">
            <LabelFragment>
                @LabelFragment
            </LabelFragment>
        </BitToggle>
    </CascadingValue>

</EditForm>

@code {
    [Parameter] public Visual Visual { get; set; }
    [Parameter] public bool IsEnabled { get; set; }
    [Parameter] public bool IsInlineLabel { get; set; }
    [Parameter] public string? OnText { get; set; }
    [Parameter] public string? OffText { get; set; }
    [Parameter] public string? DefaultText { get; set; }
    [Parameter] public string? AriaLabel { get; set; }
    [Parameter] public string? Role { get; set; }
    [Parameter] public string? Label { get; set; }
    [Parameter] public RenderFragment LabelFragment { get; set; }
    [Parameter] public BitToggleTestModel TestModel { get; set; }

    public class BitToggleTestModel
    {
        [Range(typeof(bool), "false", "false")]
        public bool Value { get; set; } = true;
    }

    public int ValidCount { get; set; }
    public int InvalidCount { get; set; }

    private void HandleValidSubmit()
    {
        ValidCount++;
    }

    private void HandleInvalidFSubmit()
    {
        InvalidCount++;
    }
}
