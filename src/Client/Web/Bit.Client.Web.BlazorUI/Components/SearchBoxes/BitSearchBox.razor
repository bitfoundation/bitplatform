@namespace Bit.Client.Web.BlazorUI
@inherits BitComponentBase

<div @ref="RootElement"
     @attributes="HtmlAttributes"
     style="@StyleBuilder.Value"
     class="@ClassBuilder.Value">
    <div aria-hidden="true">
        <i class="bit-icon bit-icon--@IconName" aria-hidden="true"></i>
    </div>
    <input type="text" @ref="InputRef" class="search-input"
           placeholder="@Placeholder"
           value="@Value"
           @onkeydown="@((k) => HandleOnKeyDown(k))"
           @onfocusin="HandleInputFocusIn"
           @onfocusout="HandleInputFocusOut"
           @oninput="@HandleChange"
           aria-label="@AriaLabel"
           disabled="@(IsEnabled is false)"
           role="searchbox" />
    @if (Value.HasValue())
    {
        <div>
            <button type="button"
                    aria-label="Clear text"
                    aria-hidden="true"
                    disabled="@(Value.HasNoValue())"
                    @onclick="HandleOnClear">
                <span>
                    <i class="bit-icon bit-icon--Clear"></i>
                </span>
            </button>
        </div>
    }
</div>
