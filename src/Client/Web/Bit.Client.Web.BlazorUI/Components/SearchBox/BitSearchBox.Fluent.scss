@import "../../Styles/Fluent/colors.fluent.scss", "../../Styles/functions.scss";

@mixin getFocusedStyle($fixedIcon: false, $hasValue: false) {
    border: 2px solid $Primary;

    @if $hasValue == true {
        & > div:last-child {
            opacity: 1;
            flex-basis: 0;

            & i {
                opacity: 1;
            }
        }
    }
}

.bit-srch-box-fluent {
    display: flex;
    flex-flow: row nowrap;
    align-items: stretch;
    height: rem(32px);
    box-shadow: none;
    border: rem(1px) solid $Grey130;
    border-radius: rem(2px);
    margin: 0;
    padding: rem(1px) 0 rem(1px) rem(4px);
    box-sizing: border-box;
    font-size: rem(14px);
    font-weight: 400;
    color: $Grey160;
    font-family: "Segoe UI", "Segoe UI Web (West European)", "Segoe UI", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif;
    background-color: $White;
    -webkit-font-smoothing: antialiased;

    &:hover {
        border-color: $Grey160;

        .bit-srch-box-icon-container {
            i {
                color: $Dark;
            }
        }
    }
}

.bit-srch-box-icon-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    flex-shrink: 0;
    width: rem(32px);
    font-size: rem(16px);
    text-align: center;
    color: $ThemePrimary;
    cursor: text;
    transition: width 0.167s ease 0s;

    i {
        display: inline-block;
        width: unset;
        height: unset;
        -webkit-font-smoothing: antialiased;
        color: $ThemePrimary;
        speak: none;
        opacity: 1;
        transition: opacity 0.167s ease 0s;
    }
}

.srch-box-input {
    flex: 1 1 0px;
    min-width: 0px;
    box-shadow: none;
    border: none;
    outline: none;
    margin: 0;
    padding: 0 0 rem(0.5px);
    box-sizing: border-box;
    font-weight: inherit;
    font-family: inherit;
    font-size: inherit;
    color: $Grey160;
    text-overflow: ellipsis;
    background-color: transparent;
    overflow: hidden;
}

.srch-box-clear-btn-container {
    display: flex;
    flex-direction: row;
    align-items: stretch;
    flex-basis: rem(32px);
    flex-shrink: 0;
    padding: 0;
    margin: rem(-1px) 0;
    cursor: pointer;

    &:hover {
        .srch-box-clear-btn {
            background-color: $Grey20;

            i {
                color: $Grey160;
            }
        }
    }
}

.srch-box-clear-btn {
    position: relative;
    display: inline-block;
    width: rem(32px);
    height: auto;
    padding: 0 rem(4px);
    border-radius: 0 rem(1px) rem(1px) 0;
    outline: transparent;
    border: none;
    box-sizing: border-box;
    font-size: rem(14px);
    font-weight: 400;
    font-family: "Segoe UI", "Segoe UI Web (West European)", "Segoe UI", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif;
    -webkit-font-smoothing: antialiased;
    text-decoration: none;
    text-align: center;
    color: $ThemePrimary;
    cursor: pointer;
    background-color: transparent;
    user-select: none;

    span {
        display: flex;
        flex-wrap: nowrap;
        justify-content: center;
        align-items: center;
        height: 100%;
    }

    i {
        flex-shrink: 0;
        width: unset;
        height: rem(16px);
        margin: 0 rem(4px);
        font-size: rem(12px);
        line-height: rem(16px);
        text-align: center;
        color: $Grey130;
    }
}

.bit-srch-box-has-value-fluent {
    &:hover {
        .bit-srch-box-icon-container {
            width: rem(4px);
            color: $Dark;

            i {
                color: $Dark;
                opacity: 0;
            }
        }
    }
}

.bit-srch-box-focused-fluent {
    border: rem(2px) solid $ThemePrimary;

    .bit-srch-box-icon-container {
        width: rem(4px);
        color: $Dark;

        i {
            color: $Dark;
            opacity: 0;
        }
    }

    &:hover {
        border: rem(2px) solid $ThemePrimary;
    }
}

.bit-srch-box-fixed-icon-has-value-fluent {
    &:hover {
        .bit-srch-box-icon-container {
            width: rem(32px);
            color: $Dark;

            i {
                color: $Dark;
                opacity: 1;
            }
        }
    }
}

.bit-srch-box-fixed-icon-focused-fluent {
    border: rem(2px) solid $ThemePrimary;

    .bit-srch-box-icon-container {
        width: rem(32px);
        color: $ThemePrimary;

        i {
            color: $ThemePrimary;
            opacity: 1;
        }
    }

    &:hover {
        border: rem(2px) solid $ThemePrimary;

        .bit-srch-box-icon-container {
            width: rem(32px);
            color: $Dark;

            i {
                color: $Dark;
                opacity: 1;
            }
        }
    }
}

.bit-srch-box-no-animation-fluent {
    .bit-srch-box-icon-container {
        transition: none;

        i {
            transition: none;
        }
    }
}

.bit-srch-box-underlined-fluent {
    padding: rem(1px) 0 rem(1px) rem(8px);
    border-radius: 0;
    border-width: 0 0 rem(1px);

    &.bit-srch-box-focused-fluent {
        border-bottom: rem(2px) solid $ThemePrimary;

        &:hover {
            border-width: 0 0 rem(1px);
            border-bottom: rem(2px) solid $ThemePrimary;
        }
    }
}

.bit-srch-box-disabled-fluent {
    color: $Grey160;
    background-color: $Grey20;
    border-color: $Grey20;
    pointer-events: none;
    cursor: default;

    .bit-srch-box-icon-container {
        color: $Grey90;

        i {
            color: $Grey90;
        }
    }

    &:hover {
        border-color: $Grey20;

        .bit-srch-box-icon-container {
            i {
                color: $Grey90;
            }
        }
    }

    &.bit-srch-box-underlined-fluent {
        background-color: transparent;
    }
}


.bit-srch-box-invalid-fluent {
    border-color: $ErrorBlockRed;

    .bit-srch-box-icon-container {
        i {
            color: $ErrorBlockIconRed;
        }
    }
}
