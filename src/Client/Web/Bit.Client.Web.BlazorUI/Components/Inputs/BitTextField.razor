@namespace Bit.Client.Web.BlazorUI
@inherits BitComponentBase

<div @ref="RootElement"
     style="@StyleBuilder.Value"
     class="@ClassBuilder.Value">
    @if (IsMultiLine && Type == TextFieldType.Text)
    {
        <textarea rows="3"
                  disabled=@(!IsEnabled)
                  readonly=@IsReadonly
                  placeholder="@Placeholder"
                  maxlength="@MaxLength"
                  aria-label="@AriaLabel"
                  @onclick="@HandleClick"
                  @onfocusin="@HandleFocusIn"
                  @onfocusout="@HandleFocusOut"
                  @onfocus="@HandleFocus"
                  @onchange="@HandleChange"
                  @onkeydown="@HandleKeyDown"
                  @onkeyup="@HandleKeyUp">
            @Value
        </textarea>
    }
    else
    {
        <input disabled=@(!IsEnabled)
               readonly=@IsReadonly
               type="@ElementType"
               value="@Value"
               placeholder="@Placeholder"
               maxlength="@MaxLength"
               aria-label="@AriaLabel"
               @onclick="@HandleClick"
               @onfocusin="@HandleFocusIn"
               @onfocusout="@HandleFocusOut"
               @onfocus="@HandleFocus"
               @onchange="@HandleChange"
               @onkeydown="@HandleKeyDown"
               @onkeyup="@HandleKeyUp" />
    }

    @if (CanRevealPassword && Type == TextFieldType.Password)
    {
        <span class="clickable" @onclick="TogglePasswordRevealIcon">
            <i class="bit-icon bit-icon--@(ElementType == TextFieldType.Text ? "Hide" : "RedEye")"></i>
        </span>
    }

    @if (IconName is not null)
    {
        <span>
            <i class="bit-icon bit-icon--@IconName"></i>
        </span>
    }
</div>
