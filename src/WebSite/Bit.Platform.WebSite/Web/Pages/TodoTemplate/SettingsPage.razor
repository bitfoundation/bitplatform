@page "/todo-template/settings"

<div class="page-container">
    <h1 class="page-main-title">Settings</h1>
    <div class="page-desc">
        Here a description will be shown.
    </div>

    <section class="section-card">
        <h2 class="section-card-title">Authentication policies</h2>
        <div class="section-card-txt">
            Bit provides authentication with and implements the SignUp and SignIn user interfaces. You can change the default settings of the Identity Settings according to your needs; These settings are in the <span class="high-light-text">appsettings.json</span> file in the Api project.
        </div>
        <div class="code-box">
            <pre>
<code>"IdentitySettings": {
    "PasswordRequireDigit": "false",
    "PasswordRequiredLength": "6",
    "PasswordRequireNonAlphanumeric": "false",
    "PasswordRequireUppercase": "false",
    "PasswordRequireLowercase": "false",
    "RequireUniqueEmail": "true",
    "ConfirmationEmailResendDelay": "0.00:02:00", //Format: D.HH:mm:nn
    "ResetPasswordEmailResendDelay": "0.00:02:00" //Format: D.HH:mm:nn
}</code>
            </pre>
        </div>
    </section>

    <section class="section-card">
        <h2 class="section-card-title">JWT settings</h2>
        <div class="section-card-txt">
            Bit used JWT to provide token based authentication and you can either change Jwt settings, you can find these settings in the <span class="high-light-text">appsettings.json</span> file in the Api project.
        </div>
        <div class="code-box">
            <pre class="code">
<code>"JwtSettings": {
    "IdentityCertificatePassword": "P@ssw0rdP@ssw0rd",
    "Issuer": "TodoTemplate",
    "Audience": "TodoTemplate",
    "NotBeforeMinutes": "0",
    "ExpirationMinutes": "1440"
}</code>
            </pre>
        </div>
        <div class="section-card-txt">
            <span class="bold-txt">Note</span>: IdentityCertificatePassword referring to the password of the <span class="high-light-text">IdentityCertificate.pfx</span> file in the Api project that used as certificate file for store the public key and etc for validating incoming JWT tokens. to create PFX file run following commands in PowerShell with desired password and file path for your pfx file
        </div>
        <div class="code-box">
            <pre class="code">
<code>> $cert = New-SelfSignedCertificate -CertStoreLocation Cert:\LocalMachine\My -Subject "IdentityServerCN" -Provider "Microsoft Strong Cryptographic Provider" -HashAlgorithm "SHA512" -NotAfter (Get-Date).AddYears(5)
> Export-PfxCertificate -cert ('Cert:\LocalMachine\My\' + $cert.thumbprint) -FilePath PATH_TO_YOUR_IdentityServerCertificate.pfx -Password (ConvertTo-SecureString -String "YOUR_PASSWORD" -Force -AsPlainText)</code>
        </pre>
        </div>
    </section>

    <section class="section-card">
        <h2 class="section-card-title">Email settings</h2>
        <div class="section-card-txt">
            Bit used <a href="https://github.com/lukencode/FluentEmail">FluentEmail</a> to send emails whenever needs.
            <br />For example in SignUp, you can either change the SMTP provide settings as you need, you can find these settings in the <span class="high-light-text">appsettings.json</span> file in the Api project.
        </div>
        <div class="code-box">
            <pre class="code">
<code>"EmailSettings": {
    "Host": "LocalFolder", // Local folder means storing emails in bin\sent-emails folder. (Recommended for testing purposes only)
    "Port": "25",
    "DefaulFromEmail": "info@todo.com",
    "DefaultFromName": "Todo",
    "UserName": null,
    "Password": null
}</code>
        </pre>
        </div>
        <div class="section-card-txt">
            <span class="bold-txt">Note</span>: You can find email templates used for email confirmation and reset password in the <span class="high-light-text">Resources</span> directory of the Api project.
        </div>
    </section>

    <section class="section-card">
        <h2 class="section-card-title">User profile image setting</h2>
        <div class="section-card-txt">
            Bit save user profile image in <span class="high-light">Attachments\Profiles</span> directory of the Api project as default, you can change this path as you need from the <span class="high-light">appsettings.json</span> file in the Api project.
        </div>
        <div class="code-box">
            <pre class="code"><code>"UserProfileImagePath": "./Attachments/Profiles/"</code></pre>
        </div>
    </section>

    <section class="section-card">
        <h2 class="section-card-title">Health check settings</h2>
        <div class="section-card-txt">
            Bit support Health Checks for reporting the health of app infrastructure components. Health checks are exposed by an app as HTTP endpoints. If you need to enable or disable this functionality you can find these settings in the <span class="high-light-text">appsettings.json</span> file in the Api project.
        </div>
        <div class="code-box">
            <pre class="code"><code>"HealCheckSettings": {
    "EnableHealthChecks": true
}</code></pre>
        </div>
        <div class="section-card-txt">
            <span class="bold-txt">Note</span>: You can find Health Checks dashboard from route <span class="high-light-text">https://localhost:5001/healthchecks-ui</span> as default.
        </div>
    </section>
</div>